{
  "spec": "001-improve--todo-provide-an-error-message",
  "tasks": [
    {
      "id": "T-001",
      "title": "Investigate the TODO context in anthropic/_compat.py",
      "description": "Read the file at ./.venv/lib/python3.12/site-packages/anthropic/_compat.py to understand what the TODO at line 73 is about, what function it's in, what error condition is being handled, and what an appropriate error message would be.",
      "acceptanceCriteria": [
        "Run `cat -n ./.venv/lib/python3.12/site-packages/anthropic/_compat.py` — exits with code 0 and output is reviewed"
      ],
      "passes": false
    },
    {
      "id": "T-002",
      "title": "Determine if file is modifiable or if upstream package should be patched",
      "description": "Since the file is inside .venv (a third-party package), determine whether this TODO should be addressed by modifying the installed package file directly, or whether this is a vendor/upstream concern that cannot be safely modified. Check if the project vendors or patches the anthropic SDK.",
      "acceptanceCriteria": [
        "Run `grep -r 'anthropic' /home/deploy/gc-repos/givecare-bench/requirements*.txt /home/deploy/gc-repos/givecare-bench/pyproject.toml /home/deploy/gc-repos/givecare-bench/setup.cfg 2>/dev/null || echo 'checked'` — exits with code 0",
        "Run `ls /home/deploy/gc-repos/givecare-bench/patches/ 2>/dev/null || echo 'no patches dir'` — exits with code 0"
      ],
      "passes": false
    },
    {
      "id": "T-003",
      "title": "Add a descriptive error message to the bare raise or pass statement at line 73",
      "description": "Edit ./.venv/lib/python3.12/site-packages/anthropic/_compat.py at line 73 to replace the TODO comment and any bare raise/pass with a meaningful error message that describes what went wrong (e.g., a missing dependency or incompatible version). The message should help the user understand the failure and how to fix it.",
      "acceptanceCriteria": [
        "File `./.venv/lib/python3.12/site-packages/anthropic/_compat.py` no longer contains `# TODO: provide an error message here?`",
        "File `./.venv/lib/python3.12/site-packages/anthropic/_compat.py` contains a string literal or error message near line 73 (e.g., a raise statement with a message or a formatted error string)"
      ],
      "passes": false
    },
    {
      "id": "T-004",
      "title": "Verify the modified file compiles without syntax errors",
      "description": "Run python -m py_compile on the modified _compat.py file to ensure no syntax errors were introduced by the edit.",
      "acceptanceCriteria": [
        "Run `python -m py_compile ./.venv/lib/python3.12/site-packages/anthropic/_compat.py` — exits with code 0"
      ],
      "passes": false
    },
    {
      "id": "T-005",
      "title": "Run project tests to confirm no regressions",
      "description": "Run the project test suite from /home/deploy/gc-repos/givecare-bench to ensure the change does not break any existing functionality.",
      "acceptanceCriteria": [
        "Run `cd /home/deploy/gc-repos/givecare-bench && pytest --tb=short -q 2>/dev/null || echo 'no pytest'` — exits with code 0 (or prints 'no pytest' if no test suite exists)"
      ],
      "passes": false
    },
    {
      "id": "T-006",
      "title": "Verify the TODO comment is fully resolved",
      "description": "Run the completion signal grep to confirm the TODO comment has been removed from the file.",
      "acceptanceCriteria": [
        "Run `grep -rn '        # TODO: provide an err' ./.venv/lib/python3.12/site-packages/anthropic/_compat.py || echo 'TODO resolved'` — output contains 'TODO resolved'"
      ],
      "passes": false
    }
  ]
}
