<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupportBench - AI Safety Benchmark for Longitudinal Caregiver Support</title>
    <meta name="description" content="Open-source benchmark evaluating AI safety in persistent caregiver support across multi-turn conversations. Test crisis detection, regulatory compliance, and self-care support quality.">
    <link rel="canonical" href="https://givecareapp.github.io/givecare-bench/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://givecareapp.github.io/givecare-bench/">
    <meta property="og:title" content="SupportBench - AI Safety Benchmark for Longitudinal Caregiver Support">
    <meta property="og:description" content="Open-source benchmark evaluating AI safety in persistent caregiver support across multi-turn conversations. Test crisis detection, regulatory compliance, and self-care support quality.">
    <meta property="og:image" content="https://givecareapp.github.io/givecare-bench/gc.svg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://givecareapp.github.io/givecare-bench/">
    <meta property="twitter:title" content="SupportBench - AI Safety Benchmark for Longitudinal Caregiver Support">
    <meta property="twitter:description" content="Open-source benchmark evaluating AI safety in persistent caregiver support across multi-turn conversations. Test crisis detection, regulatory compliance, and self-care support quality.">
    <meta property="twitter:image" content="https://givecareapp.github.io/givecare-bench/gc.svg">

    <link rel="stylesheet" href="style.css?v=3">
</head>
<body>
    <div class="logo">
        <img src="gc.svg" alt="GiveCare Logo">
    </div>
    <header>
        <div class="container nav-bar">
            <div class="brand">
                <h1>SupportBench</h1>
                <p class="tagline">AI safety benchmark for longitudinal caregiver support</p>
            </div>
            <nav>
                <a href="index.html" class="active">Home</a>
                <a href="leaderboard.html">Leaderboard</a>
                <a href="about.html">About</a>
                <a href="https://github.com/givecareapp/givecare-bench" target="_blank" rel="noopener">GitHub</a>
            </nav>
        </div>
    </header>

    <main class="container page-frame">
        <section class="hero">
            <div class="hero-card">
                <span class="pill" id="version-pill">Live Results · loading…</span>
                <h2>Stress-test AI models for crisis safety, belonging, and regulatory fitness over multi-turn care conversations.</h2>
                <p>Tiered scenarios (3–20+ turns) surface masked suicidal ideation, boundary creep, and memory failures common to long-running caregiver support.</p>
                <div class="cta-row">
                    <a class="btn primary" href="leaderboard.html">View Leaderboard</a>
                    <a class="btn ghost" href="about.html">Methodology</a>
                    <a class="btn ghost" href="https://github.com/givecareapp/givecare-bench" target="_blank" rel="noopener">GitHub</a>
                </div>
                <div class="stat-grid">
                    <div class="stat">
                        <label>Models tested</label>
                        <strong id="models-tested">—</strong><span style="color: var(--muted);"> · live count</span>
                    </div>
                    <div class="stat">
                        <label>Scenarios</label>
                        <strong id="scenarios-tested">—</strong><span style="color: var(--muted);"> (current run)</span>
                    </div>
                    <div class="stat">
                        <label>Scoring path</label>
                        <strong>Orchestrator (5 dims)</strong><span style="color: var(--muted);"> tri-judge in progress</span>
                    </div>
                </div>
                <p class="note">Results refresh automatically from <code>data/leaderboard.json</code>. Tri-judge ensemble reporting will be added when those runs complete.</p>
            </div>
            <div class="card">
                <h3>Test Stack</h3>
                <ul>
                    <li>Tier 1: Crisis detection & masked SI (suicidal ideation)</li>
                    <li>Tier 2: Belonging + boundary durability</li>
                    <li>Tier 3: Longitudinal trust & memory</li>
                </ul>
                <div class="methodology" style="margin-top:14px;">
                    <p><strong>Why:</strong> Safety failures often emerge after rapport builds and fatigue sets in. We test sustained safety—not just first impressions.</p>
                </div>
            </div>
        </section>

        <section class="card minimal-card">
            <h3>Why this matters</h3>
            <p>Caregivers reach for AI after trust forms and exhaustion sets in. Safety failures often appear late—after rapport, boundary creep, or memory drift—not in single-turn demos.</p>
            <h3>What typical benchmarks miss</h3>
            <ul>
                <li>Multi-session fatigue: masked SI that looks like “normal burnout”</li>
                <li>Belonging gaps: pronouns, culture, and identity repair under stress</li>
                <li>Boundary durability: regulatory drift after warmth builds</li>
                <li>Memory hygiene: leakage and inconsistency across spaced turns</li>
            </ul>
        </section>

        <section class="leaderboard card table-card">
            <h3>Latest Results (orchestrator, 5 dimensions)</h3>
            <table id="latest-results-table">
                <caption class="sr-only">Model performance pulled from data/leaderboard.json.</caption>
                <thead>
                    <tr>
                        <th scope="col">Model</th>
                        <th scope="col">Scenario</th>
                        <th scope="col">Tier</th>
                        <th scope="col">Overall</th>
                        <th scope="col">Memory</th>
                        <th scope="col">Trauma</th>
                        <th scope="col">Belonging</th>
                        <th scope="col">Compliance</th>
                        <th scope="col">Safety</th>
                    </tr>
                </thead>
                <tbody id="latest-results-body">
                    <tr><td colspan="9">Loading leaderboard…</td></tr>
                </tbody>
            </table>
            <div aria-live="polite" class="sr-only" id="latest-results-summary"></div>
        </section>

        <section class="card minimal-card" id="autofail-section" style="display:none;">
            <h3>Critical Failures</h3>
            <div class="failure-box" id="autofail-box"></div>
        </section>

        <section class="card minimal-card">
            <h3>Evaluation Dimensions (current leaderboard)</h3>
            <div class="dimension-grid">
                <div class="dimension">
                    <strong>Memory</strong>
                    <p>Entity consistency, recall, conflict resolution.</p>
                </div>
                <div class="dimension">
                    <strong>Trauma-Informed Flow</strong>
                    <p>Pacing, validation, and grounding before advice.</p>
                </div>
                <div class="dimension">
                    <strong>Belonging & Cultural Fitness</strong>
                    <p>Recognition, agency, no othering.</p>
                </div>
                <div class="dimension">
                    <strong>Regulatory Compliance</strong>
                    <p>No diagnosis/treatment; WOPR-aligned guardrails.</p>
                </div>
                <div class="dimension">
                    <strong>Crisis Safety</strong>
                    <p>Crisis detection, urgency, and warm handoff quality.</p>
                </div>
            </div>
        </section>

        <section class="scenario-info card minimal-card">
            <h3>Test Scenarios (current run)</h3>
            <p><strong>Tier 1:</strong> Crisis Detection (5 turns) — masked SI escalation</p>
            <p><strong>Tier 2:</strong> Sandwich Generation Burnout (10–12 turns) — dual caregiving & belonging</p>
            <p><strong>Tier 3:</strong> Longitudinal Trust (20+ turns) — memory continuity and boundary durability</p>
        </section>

        <section class="methodology card minimal-card">
            <h3>Why This Matters</h3>
            <p>Most AI benchmarks don't test <strong>persistent caregiver support</strong> where safety issues emerge over time:</p>
            <ul>
                <li>Crisis detection degradation</li>
                <li>Attachment engineering</li>
                <li>Regulatory boundary creep</li>
                <li>Memory hygiene failures</li>
            </ul>
            <p>SupportBench tests AI safety in the contexts where caregivers are most vulnerable: ongoing support relationships.</p>

            <h3 style="margin-top:12px;">How scoring works</h3>
            <p><strong>Live leaderboard:</strong> Uses the 5-dimension YAML orchestrator (memory, trauma-informed flow, belonging & cultural fitness, regulatory compliance, crisis safety). Hard-fail gates enforce crisis detection and medical-advice prohibitions.</p>
            <p><strong>In progress:</strong> Tri-judge ensemble with 8 dimensions (adds relational quality, actionable support, longitudinal consistency, and memory hygiene) will publish results once runs complete.</p>
        </section>
    </main>

    <footer>
        <div class="container">
            <p id="footer-version">SupportBench · loading version… · <a href="https://github.com/givecareapp/givecare-bench">GitHub</a></p>
            <p>Built for evaluating AI safety in persistent caregiver support</p>
        </div>
    </footer>

    <script>
        async function loadLeaderboardData() {
            const res = await fetch('data/leaderboard.json');
            if (!res.ok) return null;
            return res.json();
        }

        function formatDate(isoString) {
            const date = new Date(isoString);
            return isNaN(date.getTime()) ? isoString : date.toUTCString();
        }

        function renderSummaryMetadata(metadata) {
            document.getElementById('models-tested').textContent = metadata.total_models;
            document.getElementById('scenarios-tested').textContent = metadata.total_scenarios;
            document.getElementById('version-pill').textContent = `Live Results · ${metadata.benchmark_version}`;
            document.getElementById('footer-version').innerHTML = `SupportBench ${metadata.benchmark_version} · <a href="https://github.com/givecareapp/givecare-bench">GitHub</a>`;
        }

        function renderLatestResults(leaderboard) {
            const tbody = document.getElementById('latest-results-body');
            tbody.innerHTML = '';
            const rows = [];
            leaderboard.forEach(entry => {
                entry.scenarios.forEach(scenario => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${entry.model}</td>
                        <td>${scenario.scenario}</td>
                        <td>${scenario.tier}</td>
                        <td>${scenario.overall_score.toFixed(3)}</td>
                        <td>${scenario.dimension_scores.memory.toFixed(2)}</td>
                        <td>${scenario.dimension_scores.trauma.toFixed(2)}</td>
                        <td>${scenario.dimension_scores.belonging.toFixed(2)}</td>
                        <td>${scenario.dimension_scores.compliance.toFixed(2)}</td>
                        <td>${scenario.dimension_scores.safety.toFixed(2)}</td>`;
                    rows.push(tr);
                });
            });

            if (rows.length === 0) {
                const empty = document.createElement('tr');
                empty.innerHTML = '<td colspan="9">No leaderboard data available yet.</td>';
                tbody.appendChild(empty);
            } else {
                rows.forEach(row => tbody.appendChild(row));
            }

            const summary = document.getElementById('latest-results-summary');
            summary.textContent = `${rows.length} evaluations displayed across ${new Set(leaderboard.map(e => e.model)).size} model(s).`;
        }

        function renderAutofails(autofailData) {
            const section = document.getElementById('autofail-section');
            const box = document.getElementById('autofail-box');

            if (!autofailData || autofailData.length === 0) {
                box.textContent = 'No autofail conditions triggered in the current published run.';
                section.style.display = 'block';
                return;
            }

            const list = document.createElement('ul');
            autofailData.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.model}: ${item.reason}`;
                list.appendChild(li);
            });
            box.innerHTML = '';
            box.appendChild(list);
            section.style.display = 'block';
        }

        (async function init() {
            const data = await loadLeaderboardData();
            if (!data) return;
            renderSummaryMetadata(data.metadata);
            renderLatestResults(data.overall_leaderboard);
            renderAutofails(data.autofail_tracking);
        })();
    </script>
</body>
</html>
