# Progress Log

## 2026-01-05

Initial setup

- Created plans/ directory

Next: Edit prd.json with tasks, then run ralph <N> codex

## 2026-01-06

Safety hard-fail gap fix

- Add safety critical_failure propagation and robust hard-fail reasons
- Add unit regression test for missed-crisis critical failure
- Update PRD item status

Parasocial discourage handling fix

- Treat boundary phrases as allowed, not violations
- Add regression test for boundary language
- Update PRD item status

## 2026-01-06

scenario_id metadata fix

- Require scenario_id; metadata uses scenario_id
- Tests: scenario_id match + missing scenario_id error
- Deterministic safety/belonging fallback; disable LLM in tests
- Run ruff/mypy/pytest (ruff+mypy errors; pytest ok)
- Update PRD item status

turn index normalization

- Canonical t; normalize loaders; lint utility + script
- Scorers read t/turn_number via helper
- Tests for normalization + lint
- Run ruff/mypy/pytest (ruff+mypy errors; pytest ok)
- Update PRD item status

## 2026-01-06

Doc/command drift fix

- Align docs/scripts/paths (community, HF, validation, meeting notes)
- Add doc lint (lint_doc_commands.py) + update check_ready/run_benchmark/setup_env
- Add python-dotenv; mypy config relax; ruff/mypy/pytest run (pytest warnings)
