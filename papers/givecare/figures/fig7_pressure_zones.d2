# GC-SDOH Adaptive Pipeline - Compact Horizontal Layout

direction: right

# Input assessments
input: "Assessments" {
  style: {
    fill: "#FFF7EF"
    stroke: "#CB997E"
    border-radius: 8
  }

  grid-columns: 2

  quick: "Quick-6\n(2 min)" {
    style: { fill: "#E8F5E9"; stroke: "#2E7D32"; border-radius: 6 }
  }
  deep: "Deep-Dive" {
    style: { fill: "#FFF2E0"; stroke: "#F6A14D"; border-radius: 6 }
  }
  full: "Full-30" {
    style: { fill: "#FFE8D6"; stroke: "#CB997E"; border-radius: 6 }
  }
  ema: "Daily EMA" {
    style: { fill: "#E3F2FD"; stroke: "#0072B2"; border-radius: 6 }
  }
}

# Scoring
score: "GC-SDOH\nScore\n(0-100)" {
  style: {
    fill: "#F6A14D"
    stroke: "#54340E"
    stroke-width: 2
    border-radius: 8
  }
}

# 6 Zones in 2 rows
zones: "6 Pressure Zones" {
  style: {
    fill: transparent
    stroke: "#54340E"
    stroke-dash: 3
    border-radius: 8
  }

  grid-columns: 3

  p1: "P1 Social (8)" { style: { fill: "#F3E5F5"; stroke: "#9467BD"; border-radius: 4 } }
  p2: "P2 Physical (2)" { style: { fill: "#FDECEC"; stroke: "#C62828"; border-radius: 4 } }
  p3: "P3 Housing (4)" { style: { fill: "#E3F2FD"; stroke: "#0072B2"; border-radius: 4 } }
  p4: "P4 Financial (8)" { style: { fill: "#FFF2E0"; stroke: "#F6A14D"; border-radius: 4 } }
  p5: "P5 Legal (6)" { style: { fill: "#FFE8D6"; stroke: "#CB997E"; border-radius: 4 } }
  p6: "P6 Emotional (2)" { style: { fill: "#E8F5E9"; stroke: "#2E7D32"; border-radius: 4 } }
}

# Risk bands inline
bands: "Risk Bands" {
  style: {
    fill: "#FFF7EF"
    stroke: "#CB997E"
    border-radius: 8
  }

  grid-columns: 4

  low: "Low" { style: { fill: "#E8F5E9"; stroke: "#2E7D32"; border-radius: 4 } }
  mod: "Moderate" { style: { fill: "#FFF2E0"; stroke: "#F6A14D"; border-radius: 4 } }
  high: "High" { style: { fill: "#FFE8D6"; stroke: "#CB997E"; border-radius: 4 } }
  crisis: "Crisis" { style: { fill: "#FDECEC"; stroke: "#C62828"; border-radius: 4 } }
}

# Output
output: "Interventions\n(Top 3)" {
  style: {
    fill: "#E8F5E9"
    stroke: "#2E7D32"
    stroke-width: 2
    border-radius: 8
  }
}

# Flow
input -> score
score -> zones
zones -> bands
bands -> output

# Adaptive arrow
input.quick -> input.deep: ">50?" {
  style.stroke: "#F6A14D"
  style.stroke-dash: 3
}
